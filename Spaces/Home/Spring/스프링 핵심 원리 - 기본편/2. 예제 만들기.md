## ğŸ“ ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ ì„¤ê³„
### íšŒì›
- íšŒì›ì„ ê°€ì…í•˜ê³  ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.
- íšŒì›ì€ ì¼ë°˜ê³¼ VIP ë‘ ê°€ì§€ ë“±ê¸‰ì´ ìˆë‹¤.
- íšŒì› ë°ì´í„°ëŠ” ìì²´ DBë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆê³ , ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ì—°ë™í•  ìˆ˜ ìˆë‹¤. (ë¯¸í™•ì •)

### ì£¼ë¬¸ê³¼ í• ì¸ ì •ì±…
- íšŒì›ì€ ìƒí’ˆì„ ì£¼ë¬¸í•  ìˆ˜ ìˆë‹¤.
- íšŒì› ë“±ê¸‰ì— ë”°ë¼ í• ì¸ ì •ì±…ì„ ì ìš©í•  ìˆ˜ ìˆë‹¤.
- í• ì¸ ì •ì±…ì€ ëª¨ë“  VIPëŠ” 1,000ì›ì„ í• ì¸í•´ì£¼ëŠ” ê³ ì • ê¸ˆì•¡ í• ì¸ì„ ì ìš©í•´ë‹¬ë¼. (ë‚˜ì¤‘ì— ë³€ê²½ë  ìˆ˜ ìˆìŒ)
- í• ì¸ ì •ì±…ì€ ë³€ê²½ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤. íšŒì‚¬ì˜ ê¸°ë³¸ í• ì¸ ì •ì±…ì„ ì•„ì§ ê²°ì •í•˜ì§€ ëª»í–ˆê³ , ì˜¤í”ˆ ì§ì „ê¹Œì§€ ê³ ë¯¼ì„ ë¯¸ë£¨ê³  ì‹¶ë‹¤. ìµœì•…ì˜ ê²½ìš° í• ì¸ì„ ì ìš©í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤. (ë¯¸í™•ì •)

ìš”êµ¬ì‚¬í•­ì„ ë³´ë©´ íšŒì› ë°ì´í„°, í• ì¸ ì •ì±… ê°™ì€ ë¶€ë¶„ì€ ì§€ê¸ˆ ê²°ì •í•˜ê¸° ì–´ë ¤ìš´ ë¶€ë¶„ì´ë‹¤. ê·¸ë ‡ë‹¤ê³  ì´ëŸ° ì •ì±…ì´ ê²°ì •ë  ë•Œê¹Œì§€ ê°œë°œì„ ë¬´ê¸°í•œ ê¸°ë‹¤ë¦´ ìˆ˜ë„ ì—†ë‹¤. ë”°ë¼ì„œ ìš°ë¦¬ëŠ” ì•ì—ì„œ ë°°ìš´ ê°ì²´ ì§€í–¥ ì„¤ê³„ ë°©ë²•ì„ í†µí•´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ê³  êµ¬í˜„ì²´ë¥¼ ì–¸ì œë“ ì§€ ê°ˆì•„ ë¼ìš¸ ìˆ˜ ìˆë„ë¡ ì„¤ê³„í•˜ë©´ ëœë‹¤.

> í”„ë¡œì íŠ¸ í™˜ê²½ì„¤ì •ì„ í¸ë¦¬í•˜ê²Œ í•˜ê¸° ìœ„í•´ì„œ ìŠ¤í”„ë§ ë¶€íŠ¸ë¥¼ ì‚¬ìš©í•œ ê²ƒì´ë‹¤. ì§€ê¸ˆì€ ìŠ¤í”„ë§ ì—†ëŠ” ìˆœìˆ˜í•œ ìë°”ë¡œë§Œ ì§„í–‰í•œë‹¤ëŠ” ì ì„ ê¼­ ê¸°ì–µí•˜ì! ìŠ¤í”„ë§ ê´€ë ¨ì€ í•œì°¸ ë’¤ì— ë“±ì¥í•œë‹¤.



## ğŸ“ íšŒì› ë„ë©”ì¸ ì„¤ê³„
### íšŒì› ë„ë©”ì¸ ìš”êµ¬ì‚¬í•­
- íšŒì›ì„ ê°€ì…í•˜ê³  ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.
- íšŒì›ì€ ì¼ë°˜ê³¼ VIP ë‘ ê°€ì§€ ë“±ê¸‰ì´ ìˆë‹¤.
- íšŒì› ë°ì´í„°ëŠ” ìì²´ DBë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆê³ , ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ì—°ë™í•  ìˆ˜ ìˆë‹¤. (ë¯¸í™•ì •)

ìš°ë¦¬ëŠ” í˜„ì¬ íšŒì› ë°ì´í„°ì˜ ì €ì¥ ë°©ì‹ì„ í™•ì •í•˜ì§€ ëª»í•œ ìƒíƒœì´ë¯€ë¡œ íšŒì› ì €ì¥ì†Œì˜ ì—­í• ì„ ë©”ëª¨ë¦¬ íšŒì› ì €ì¥ì†Œ, DB íšŒì› ì €ì¥ì†Œ, ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™ íšŒì› ì €ì¥ì†Œë¡œ ë‚˜ëˆ„ì–´ êµ¬í˜„í•  ê²ƒì´ë‹¤. (ì—­í• ê³¼ êµ¬í˜„)

### íšŒì› ë„ë©”ì¸ í˜‘ë ¥ ê´€ê³„
ì¦‰, ì´í›„ì— ë°ì´í„° ì €ì¥ ë°©ì‹ì´ í™•ì •ë˜ë©´ ê·¸ë•Œ ì €ì¥ ë°©ì‹ì— ë”°ë¼ êµ¬í˜„í•˜ê³  ê°ˆì•„ë¼ì›Œ ì£¼ëŠ” ë°©ì‹ìœ¼ë¡œ ì„¤ê³„í•œ ê²ƒì´ë‹¤.

![|500](https://blog.kakaocdn.net/dn/ZQSlT/btrCCFZ6HuU/N3zUqQr7o9Fwp7n7RKBK31/img.png)


### íšŒì› í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨
ìœ„ ê·¸ë¦¼ì€ íšŒì› ë„ë©”ì¸ì— ëŒ€í•œ í° ê·¸ë¦¼ì„ ê·¸ë¦° ê²ƒì´ì—ˆê³ , ì‹¤ì œ êµ¬í˜„ ë ˆë²¨ë¡œ ë‚´ë ¤ì˜¤ë©´ ì•„ë˜ì™€ ê°™ì€ í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ì´ ê·¸ë ¤ì§€ê²Œ ëœë‹¤.

![|500](https://blog.kakaocdn.net/dn/cNtDqM/btrCBZ5S4Qv/fcAZb1k2PmI7pKwwZHORvk/img.png)

ìš°ì„  íšŒì› ì„œë¹„ìŠ¤, ì¦‰Â `MemberService`ë¼ëŠ” 'ì—­í• 'ì„ ì¸í„°í˜ì´ìŠ¤ë¡œ ë§Œë“¤ê³ , ê·¸ê²ƒì— ëŒ€í•œ êµ¬í˜„ì²´ë¡œÂ `MemberServiceImpl`Â í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì—ˆë‹¤. 
ë˜í•œ íšŒì› ì €ì¥ì†Œ, ì¦‰Â `MemberRepository`ë¼ëŠ” 'ì—­í• 'ì„ ì¸í„°í˜ì´ìŠ¤ë¡œ ë§Œë“¤ê³ , ê·¸ê²ƒì— ëŒ€í•œ êµ¬í˜„ì²´ë¡œÂ `MemberMemoryRepository`ì™€Â `DbMemberRepository`Â í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì—ˆë‹¤.

> MemberServiceImplì—ì„œ Implì€ êµ¬í˜„í•˜ë‹¤(implement)ì˜ ëœ»ìœ¼ë¡œ ì£¼ë¡œ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” êµ¬í˜„ í´ë˜ìŠ¤ê°€ í•˜ë‚˜ì¼ ê²½ìš°ì— ë¶™ì—¬ì£¼ëŠ” êµ¬ë¬¸ì´ë‹¤.


### íšŒì› ê°ì²´ ë‹¤ì´ì–´ê·¸ë¨
![|500](https://blog.kakaocdn.net/dn/bdYkQb/btrCB1iktXt/KdDl2xCgqda7BZTfRRx4q0/img.png)

ë‹¤ìŒìœ¼ë¡œ íšŒì› ê°ì²´ ë‹¤ì´ì–´ê·¸ë¨ì€ ê°ì²´ ê°„ì˜ ë©”ëª¨ë¦¬ ì°¸ì¡° ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚´ê³  ìˆë‹¤. ì¦‰, í´ë¼ì´ì–¸íŠ¸ëŠ” íšŒì› ì„œë¹„ìŠ¤ë¥¼ ë°”ë¼ë³´ê³  íšŒì› ì„œë¹„ìŠ¤ëŠ” ë©”ëª¨ë¦¬ íšŒì› ì €ì¥ì†Œë¥¼ ë°”ë¼ë³´ê²Œ ëœë‹¤.



## ğŸ“ íšŒì› ë„ë©”ì¸ ê°œë°œ
ìš°ì„ Â `Member`ë¼ëŠ” ì´ë¦„ì˜ íŒ¨í‚¤ì§€ë¥¼ í•˜ë‚˜ ìƒì„±í•˜ê³  í•´ë‹¹ íŒ¨í‚¤ì§€ ì•ˆì— ë“±ê¸‰ì„ ì„¤ì •í•˜ê¸° ìœ„í•œÂ `Enum`Â íƒ€ì…ì˜Â `Grade`ë¥¼ ìƒì„±í•´ì¤€ë‹¤.

ìœ„ì—ì„œ ì‘ì„±í•œ ìš”êµ¬ì‚¬í•­ì„ ì‚´í´ë³´ë©´ íšŒì› ë“±ê¸‰ì—ëŠ” BASICê³¼ VIP ì´ ë‘ ê°€ì§€ ë“±ê¸‰ì´ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
```crystal
public enum Grade {
    BASIC,
    VIP
}
```

ë‹¤ìŒìœ¼ë¡œ íšŒì› ê°ì²´ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´Â `Member`ë¼ëŠ” ì´ë¦„ì˜ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„í•´ì£¼ì—ˆë‹¤.
```java
public class Member {
    private Long id;
    private String name;
    private Grade grade;

    public Member(Long id, String name, Grade grade) {
        this.id = id;
        this.name = name;
        this.grade = grade;
    }

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public Grade getGrade() {
        return grade;
    }

    public void setGrade(Grade grade) {
        this.grade = grade;
    }
}
```

> IntelliJì˜ ê²½ìš° ìƒì„±ì ë˜ëŠ” Getter, Setterë¥¼ êµ¬í˜„í•  ë•Œ, WindowsëŠ” ë‹¨ì¶•í‚¤ Alt + Ins í‚¤ë¥¼ í™œìš©í•˜ì—¬ ê°„í¸í•˜ê²Œ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

ë‹¤ìŒìœ¼ë¡œëŠ” íšŒì› ì €ì¥ì†Œì˜ ì—­í• ì„ ì •ì˜í•˜ê¸° ìœ„í•œÂ `MemberRepository`Â ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ê³ , ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„í•œë‹¤.

```java
public interface MemberRepository {
    void save(Member member);
    Member findById(Long memberId);
}
```

ì´í›„ ìœ„ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” êµ¬í˜„ í´ë˜ìŠ¤ë¡œÂ `MemoryMemberRepository`Â í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„í•œë‹¤.
```java
public class MemoryMemberRepository implements MemberRepository {

    private static Map<Long, Member> store = new HashMap<>();

    @Override
    public void save(Member member) {
        store.put(member.getId(), member);
    }

    @Override
    public Member findById(Long memberId) {
        return store.get(memberId);
    }
}
```

> ìœ„ì—ì„œ HashMapìœ¼ë¡œ ìƒì„±í•œ storeì˜ ê²½ìš° ì¼ë°˜ì ìœ¼ë¡œëŠ” ë™ì‹œì„± ì´ìŠˆë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œ ConcurrentHashMapìœ¼ë¡œ ìƒì„±í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•˜ë‚˜ ì—¬ê¸°ì„œëŠ” ì˜ˆì œë¥¼ ìµœëŒ€í•œ ë‹¨ìˆœí™”í•˜ê¸° ìœ„í•´ì„œ HashMapì„ ì‚¬ìš©í•˜ì˜€ë‹¤.

ë‹¤ìŒìœ¼ë¡œ íšŒì› ì„œë¹„ìŠ¤ì˜ ì—­í• ì„ ì •ì˜í•˜ê¸° ìœ„í•œÂ `MemberService`Â ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ê³  ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„í•œë‹¤.
```java
public interface MemberService {
    void join(Member member);
    Member findMember(Long memberId);
}
```

ì´í›„ ìœ„ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” êµ¬í˜„ í´ë˜ìŠ¤ë¡œÂ `MemberServiceImpl`Â í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„í•œë‹¤.
```java
public class MemberServiceImpl implements MemberService{

    private final MemberRepository memberRepository = new MemoryMemberRepository();

    @Override
    public void join(Member member) {
        memberRepository.save(member);
    }

    @Override
    public Member findMember(Long memberId) {
        return memberRepository.findById(memberId);
    }
}
```



## ğŸ“ íšŒì› ë„ë©”ì¸ ì‹¤í–‰ê³¼ í…ŒìŠ¤íŠ¸
ìœ„ì—ì„œ ì‘ì„±í•œ ë‚´ìš©ì„ ê°„ë‹¨íˆ í…ŒìŠ¤íŠ¸ í•´ë³´ê¸° ìœ„í•´Â `MemberApp`Â í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„í•œë‹¤.

```java
public class MemberApp {

    public static void main(String[] args){
        MemberService memberService = new MemberServiceImpl();
        Member member = new Member(1L, "memberA", Grade.VIP);
        memberService.join(member);

        Member findMember = memberService.findMember(1L);
        System.out.println("new member = " + member.getName());
        System.out.println("find member = " + findMember.getName());
    }
}
```

ì´í›„ ì‹¤í–‰í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ê°€ ë‚˜íƒ€ë‚˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
![|500](https://blog.kakaocdn.net/dn/bxRumu/btrCFI9KV76/eHaYHK2r1DWX8nVw4Vqq4K/img.png)
ë‹¤ë§Œ ìœ„ì²˜ëŸ¼ ë©”ì¸ ë©”ì„œë“œë¡œ ë¡œì§ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°ì—ëŠ” í•œê³„ê°€ ìˆë‹¤. ë”°ë¼ì„œ ìš°ë¦¬ëŠ”Â **'JUnit'**ì´ë¼ëŠ” í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•  ê²ƒì´ë‹¤.

ê¸°ë³¸ì ìœ¼ë¡œ ì„¸íŒ…ì€ ë‹¤ ë˜ì–´ìˆìœ¼ë©°Â `test`Â í´ë” ì•ˆì— íŒ¨í‚¤ì§€ë¥¼ ìƒì„±í•œ ë’¤ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„í•´ì£¼ë©´ ëœë‹¤.
```java
package hello.core.member;

public class MemberServiceTest {

    MemberService memberService = new MemberServiceImpl();

    @Test
    void join(){
        //given
        Member member = new Member(1L, "memberA", Grade.VIP);

        //when
        memberService.join(member);
        Member findMember = memberService.findMember(1L);

        //then
        Assertions.assertThat(member).isEqualTo(findMember);
    }
}
```
ìœ„ì™€ ê°™ì€ í…ŒìŠ¤íŠ¸ ë°©ë²•ì€ í˜„ëŒ€ì ì¸ ì–´í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì„ ìœ„í•´ì„œëŠ” ì„ íƒì´ ì•„ë‹Œ í•„ìˆ˜ì ì¸ ìš”ì†Œì´ë‹¤.



## ğŸ“ íšŒì› ë„ë©”ì¸ ì„¤ê³„ì˜ ë¬¸ì œì 
ìœ„ ì½”ë“œë“¤ì˜ ì„¤ê³„ìƒ ë¬¸ì œì ì€ ë¬´ì—‡ì¼ê¹Œ?

- ë‹¤ë¥¸ ì €ì¥ì†Œë¡œ ë³€ê²½í•  ë•Œ OCP ì›ì¹™ì„ ì˜ ì¤€ìˆ˜í• ê¹Œ?
- DIPë¥¼ ì˜ ì§€í‚¤ê³  ìˆì„ê¹Œ?

ìœ„ ì½”ë“œë“¤ì€ ì˜ì¡´ ê´€ê³„ê°€ ì¸í„°í˜ì´ìŠ¤ ë¿ë§Œ ì•„ë‹ˆë¼ êµ¬í˜„ê¹Œì§€ ëª¨ë‘ ì˜ì¡´í•˜ëŠ” ë¬¸ì œì ì´ ìˆë‹¤.
```java
private final MemberRepository memberRepository = new MemoryMemberRepository();
```
ì´ ë¶€ë¶„ì€ ì£¼ë¬¸ ë„ë©”ì¸ê¹Œì§€ ë§Œë“¤ê³  ë‚˜ì„œ ë¬¸ì œì ê³¼ í•´ê²° ë°©ì•ˆì„ ì„¤ëª…í•˜ë„ë¡ í•œë‹¤.



## ğŸ“ ì£¼ë¬¸ê³¼ í• ì¸ ë„ë©”ì¸ ì„¤ê³„
### ì£¼ë¬¸ê³¼ í• ì¸ ì •ì±…
- íšŒì›ì€ ìƒí’ˆì„ ì£¼ë¬¸í•  ìˆ˜ ìˆë‹¤.
- íšŒì› ë“±ê¸‰ì— ë”°ë¼ í• ì¸ ì •ì±…ì„ ì ìš©í•  ìˆ˜ ìˆë‹¤.
- í• ì¸ ì •ì±…ì€ ëª¨ë“  VIPëŠ” 1,000ì›ì„ í• ì¸í•´ì£¼ëŠ” ê³ ì • ê¸ˆì•¡ í• ì¸ì„ ì ìš©í•´ë‹¬ë¼. (ë‚˜ì¤‘ì— ë³€ê²½ë  ìˆ˜ ìˆìŒ)
- í• ì¸ ì •ì±…ì€ ë³€ê²½ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤. íšŒì‚¬ì˜ ê¸°ë³¸ í• ì¸ ì •ì±…ì„ ì•„ì§ ê²°ì •í•˜ì§€ ëª»í–ˆê³ , ì˜¤í”ˆ ì§ì „ê¹Œì§€ ê³ ë¯¼ì„ ë¯¸ë£¨ê³  ì‹¶ë‹¤. ìµœì•…ì˜ ê²½ìš° í• ì¸ì„ ì ìš©í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤. (ë¯¸í™•ì •)

### ì£¼ë¬¸ ë„ë©”ì¸ í˜‘ë ¥, ì—­í• , ì±…ì„
![|500](https://blog.kakaocdn.net/dn/d7azlx/btrCEdCvfy0/G6dPtieYQsTMyImOuRSGrk/img.png)
1. **ì£¼ë¬¸ ìƒì„±**Â : í´ë¼ì´ì–¸íŠ¸ëŠ” ì£¼ë¬¸ ì„œë¹„ìŠ¤ì— ì£¼ë¬¸ ìƒì„±ì„ ìš”ì²­í•œë‹¤.
2. **íšŒì› ì¡°íšŒ**Â : í• ì¸ì„ ìœ„í•´ì„œëŠ” íšŒì› ë“±ê¸‰ì´ í•„ìš”í•˜ë‹¤. ê·¸ë˜ì„œ ì£¼ë¬¸ ì„œë¹„ìŠ¤ëŠ” íšŒì› ì €ì¥ì†Œì—ì„œ íšŒì›ì„ ì¡°íšŒí•œë‹¤.
3. **í• ì¸ ì ìš©**Â : ì£¼ë¬¸ ì„œë¹„ìŠ¤ëŠ” íšŒì› ë“±ê¸‰ì— ë”°ë¥¸ í• ì¸ ì—¬ë¶€ë¥¼ í• ì¸ ì •ì±…ì— ìœ„ì„í•œë‹¤.
4. **ì£¼ë¬¸ ê²°ê³¼ ë°˜í™˜**Â : ì£¼ë¬¸ ì„œë¹„ìŠ¤ëŠ” í• ì¸ ê²°ê³¼ë¥¼ í¬í•¨í•œ ì£¼ë¬¸ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤.

> ì‹¤ì œë¡œëŠ” ìƒí’ˆ ê°ì²´ë¥¼ ë”°ë¡œ ë§Œë“¤ì–´ í•´ë‹¹ ê°ì²´ë¥¼ í†µí•´ ìƒí’ˆ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ê³ , ì£¼ë¬¸ ë°ì´í„°ëŠ” DBì— ì €ì¥í•˜ê² ì§€ë§Œ, ì˜ˆì œê°€ ë„ˆë¬´ ë³µì¡í•´ ì§ˆ ìˆ˜ ìˆì–´ì„œ ìƒëµí•˜ê³ , ìƒí’ˆ ë°ì´í„°ëŠ” ë‹¨ìˆœíˆ ë°ì´í„°ë§Œ ì „ë‹¬í•˜ê³  ì£¼ë¬¸ ë°ì´í„°ëŠ” ë‹¨ìˆœíˆ ì£¼ë¬¸ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ” ê²ƒìœ¼ë¡œ í•œë‹¤.

### ì£¼ë¬¸ ë„ë©”ì¸ ì „ì²´

![|500](https://blog.kakaocdn.net/dn/kATz9/btrCFPnug8r/ShM8snS1WDAjUdZhGcGHK0/img.png)
ì—­í• ê³¼ êµ¬í˜„ì„ ë¶„ë¦¬í•´ì„œ ììœ ë¡­ê²Œ êµ¬í˜„ ê°ì²´ë¥¼ ì¡°ë¦½í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„í–ˆë‹¤. 
ë•ë¶„ì— íšŒì› ì €ì¥ì†ŒëŠ” ëª°ë¡ ì´ê³ , í• ì¸ ì •ì±…ë„ ìœ ì—°í•˜ê²Œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.

### ì£¼ë¬¸ ë„ë©”ì¸ í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨
![|500](https://blog.kakaocdn.net/dn/lhdhR/btrCHD7mlpB/O3Dx3IYZkVKDsxHmDGlVAk/img.png)

### ì£¼ë¬¸ ë„ë©”ì¸ ê°ì²´ ë‹¤ì´ì–´ê·¸ë¨ 1

![|500](https://blog.kakaocdn.net/dn/c1kKAg/btrCGb48uM5/8VsWSTQtY9aAjuhtfSlOXK/img.png)

íšŒì›ì„ ë©”ëª¨ë¦¬ì—ì„œ ì¡°íšŒí•˜ê³ , ì •ì•¡ í• ì¸ ì •ì±…(ê³ ì • ê¸ˆì•¡)ì„ ì§€ì›í•´ë„ ì£¼ë¬¸ ì„œë¹„ìŠ¤ë¥¼ ë³€ê²½í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. ì¦‰, ì—­í• ë“¤ì˜ í˜‘ë ¥ ê´€ê³„ë¥¼ ê·¸ëŒ€ë¡œ ì¬ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤.

### ì£¼ë¬¸ ë„ë©”ì¸ ê°ì²´ ë‹¤ì´ì–´ê·¸ë¨ 2

![|500](https://blog.kakaocdn.net/dn/bd2vo8/btrCEeIhhFG/xFdTeWBZkVwqYd4CMEWZK0/img.png)
íšŒì›ì„ ë©”ëª¨ë¦¬ê°€ ì•„ë‹Œ ì‹¤ì œ DBì—ì„œ ì¡°íšŒí•˜ê³ , ì •ë¥  í• ì¸ ì •ì±…(ì£¼ë¬¸ ê¸ˆì•¡ì— ë”°ë¼ % í• ì¸)ì„ ì§€ì›í•´ë„ ì£¼ë¬¸ ì„œë¹„ìŠ¤ë¥¼ ë³€ê²½í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. ì¦‰, í˜‘ë ¥ ê´€ê³„ë¥¼ ê·¸ëŒ€ë¡œ ì¬ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤.



## ğŸ“ ì£¼ë¬¸ê³¼ í• ì¸ ë„ë©”ì¸ ê°œë°œ
ìš°ì„  í• ì¸ ì •ì±…ì˜ ì—­í• ì„ ì •ì˜í•˜ê¸° ìœ„í•´ ìƒˆë¡œìš´ íŒ¨í‚¤ì§€ì™€ í•¨ê»˜Â `DiscountPolicy`Â ì¸í„°í˜ì´ìŠ¤ë¥¼ ì•„ë˜ì™€ ê°™ì´ ìƒì„±í•œë‹¤.

```java
public interface DiscountPolicy {

    /**
     * @return í• ì¸ ëŒ€ìƒ ê¸ˆì•¡
     */
    int discount(Member member, int price);
}
```

ì´í›„ ìœ„ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” êµ¬í˜„ í´ë˜ìŠ¤Â `FixDiscountPolicy`Â í´ë˜ìŠ¤(ê³ ì • ê¸ˆì•¡ í• ì¸)ë¥¼ ìƒì„±í•œ ë’¤ ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„í•œë‹¤.
```java
public class FixDiscountPolicy implements DiscountPolicy{

    private int discountFixAmount = 1000;   // 1000ì› í• ì¸

    @Override
    public int discount(Member member, int price) {
        if(member.getGrade() == Grade.VIP)
            return discountFixAmount;
        else return 0;
    }
}
```


ì´ì œ ì£¼ë¬¸ ì •ë³´ë¥¼ ë‹´ê¸° ìœ„í•œ ì£¼ë¬¸ ê°ì²´ í´ë˜ìŠ¤ë¥¼ ì•„ë˜ì™€ ê°™ì´ ìƒì„±í•œë‹¤.
```java
public class Order {

    private Long memberId;
    private String itemName;
    private int itemPrice;
    private int discountPrice;

    public Order(Long memberId, String itemName, int itemPrice, int discountPrice) {
        this.memberId = memberId;
        this.itemName = itemName;
        this.itemPrice = itemPrice;
        this.discountPrice = discountPrice;
    }

    public int calculatePrice(){
        return itemPrice - discountPrice;
    }

    public Long getMemberId() {
        return memberId;
    }

    public void setMemberId(Long memberId) {
        this.memberId = memberId;
    }

    public String getItemName() {
        return itemName;
    }

    public void setItemName(String itemName) {
        this.itemName = itemName;
    }

    public int getItemPrice() {
        return itemPrice;
    }

    public void setItemPrice(int itemPrice) {
        this.itemPrice = itemPrice;
    }

    public int getDiscountPrice() {
        return discountPrice;
    }

    public void setDiscountPrice(int discountPrice) {
        this.discountPrice = discountPrice;
    }

    @Override
    public String toString() {
        return "Order{" +
                "memberId=" + memberId +
                ", itemName='" + itemName + '\'' +
                ", itemPrice=" + itemPrice +
                ", discountPrice=" + discountPrice +
                '}';
    }
}
```

ë‹¤ìŒìœ¼ë¡œ ìƒˆë¡œìš´ íŒ¨í‚¤ì§€ì™€ í•¨ê»˜ ì£¼ë¬¸ ì„œë¹„ìŠ¤ì˜ ì—­í• ì„ ì •ì˜í•˜ê¸° ìœ„í•œÂ `OrderService`Â ì¸í„°í˜ì´ìŠ¤ë¥¼ ì•„ë˜ì™€ ê°™ì´ ìƒì„±í•œë‹¤.
```java
public interface OrderService {
    Order createOrder(Long memberId, String itemName, int itemPrice);
}
```

ì´í›„ ìœ„ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” êµ¬í˜„ í´ë˜ìŠ¤Â `OrderServiceImpl`Â í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„í•œë‹¤.
```java
public class OrderServiceImpl implements OrderService{

    private final MemberRepository memberRepository = new MemoryMemberRepository();
    private final DiscountPolicy discountPolicy = new FixDiscountPolicy();

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);

        return new Order(memberId, itemName, itemPrice, discountPrice);
    }
}
```


## ğŸ“ ì£¼ë¬¸ê³¼ í• ì¸ ë„ë©”ì¸ ì‹¤í–‰ê³¼ í…ŒìŠ¤íŠ¸
ì£¼ë¬¸ê³¼ í• ì¸ ë„ë©”ì¸ì„ ì‹¤í–‰í•˜ê³  í…ŒìŠ¤íŠ¸í•´ë³´ì.

ë¨¼ì € ë©”ì¸ ë©”ì†Œë“œë¥¼ í†µí•´ í…ŒìŠ¤íŠ¸ í•´ë³´ê¸° ìœ„í•´ ìœ„ì—ì„œ í–ˆë˜ ê²ƒê³¼ ë§ˆì°¬ê°€ì§€ë¡œÂ `OrderApp`Â í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„í•´ì¤€ë‹¤.
```java
public class OrderApp {

    public static void main(String[] args){
        MemberService memberService = new MemberServiceImpl();
        OrderService orderService = new OrderServiceImpl();

        Long memberId = 1L;
        Member member = new Member(memberId, "memberA", Grade.VIP);
        memberService.join(member);

        Order order = orderService.createOrder(memberId, "itemA", 10000);

        System.out.println("order = " + order.toString());
    }
}
```


ì‹¤í–‰ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.
![|500](https://blog.kakaocdn.net/dn/zetQf/btrCDCvx6cz/R667NEb0ZCw6uDzowuMdE0/img.png)


ì´ë²ˆì—ëŠ” JUnit í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸í•´ë³´ì.

ìš°ì„ Â `test`Â í´ë”ì—Â `Order`Â íŒ¨í‚¤ì§€ë¥¼ ìƒˆë¡œ ìƒì„±í•˜ê³  í•´ë‹¹ íŒ¨í‚¤ì§€ì— í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œÂ `OrderServiceTest`Â í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„í•œë‹¤.
```java
public class OrderServiceTest {

    MemberService memberService = new MemberServiceImpl();
    OrderService orderService = new OrderServiceImpl();

    @Test
    void createOrder(){
        Long memberId = 1L;
        Member member = new Member(memberId, "memberA", Grade.VIP);
        memberService.join(member);

        Order order = orderService.createOrder(memberId, "itemA", 10000);
        Assertions.assertThat(order.getDiscountPrice()).isEqualTo(1000);
    }
}
```

ì‹¤í–‰ ê²°ê³¼ë¥¼ í†µí•´ í…ŒìŠ¤íŠ¸ê°€ ì˜ ì§„í–‰ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
![|500](https://blog.kakaocdn.net/dn/qA2HT/btrCHDGygPH/HrYJMfPXWhHOS2fwfsYsIK/img.png)
