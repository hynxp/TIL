## 힌트 사용하기
똑똑한 질의 최적화기라고 하더라도 항상 옳은 결정을 내리지는 못한다. 
질의 최적화기가 잘못 판단하는 것을 방지하기 위해서는 힌트를 주어 잘못된 실행 계획을 만들지 않게 해야 하는 경우도 있다.

### 조인 힌트
큐브리드에서 조인에 힌트를 주는 방법은 다음과 같다

```sql
SELECT /*+ HINT_EXPRESSION */ … FROM … WHERE …0
```

여기서 HINT_EXPRESSION의 종류는 다음과 같다.

|힌트|설명|
|---|---|
|`USE_NL`|**중첩된 루프 조인(Nested Loop Join)** 방식 강제 적용|
|`USE_IDX`|**인덱스 조인(Index Join)** 방식 적용 (후행 테이블의 조인 칼럼이 인덱스를 사용할 경우)|
|`USE_MERGE`|**정렬 병합 조인(Merge Join)** 방식 강제 적용|
|`ORDERED`|**FROM절에 명시된 테이블 순서대로 조인**하도록 강제 (외부 → 내부 순서)|
|`USE_DESC_IDX`|**내림차순 인덱스 스캔** 사용|
|`NO_COVERING_IDX`|**커버링 인덱스 무시**하고 항상 데이터 페이지 접근하도록 강제|

### 인덱스 힌트
다음과 같이 WHERE 절 뒤에 USING INDEX 절을 추가하면 인덱스에 대한 힌트를 줄 수 있다.
```sql
SELECT …
FROM …
WHERE …
USING INDEX { NONE | index_name [(+)] [, index_name …] }
```

USING INDEX 절에 인덱스 목록을 나열하면 지정된 인덱스만 대상으로 스캔 비용을 산출하는데, USING INDEX 절에 지정한 인덱스의 비용이 너무 높다고 판단하면 테이블 전체 스캔(또는 순차 스캔)을 진행할 수 있다. 
인덱스 스캔을 강제 지정하려면 다음과 같이 인덱스 이름 뒤에 (+)를 붙인다. 
이 경우 질의 최적화기는 해당 인덱스의 비용을 0으로 계산한다.
```sql
USING INDEX 인덱스 이름(+)
```

반대로 강제로 순차 스캔을 하게 하려면 다음과 같이 힌트를 줘야 한다.
```sql
USING INDEX NONE
```

| 힌트                           | 설명                                        |
| ---------------------------- | ----------------------------------------- |
| `USING INDEX index_name(+)`  | **해당 인덱스를 반드시 사용**하도록 강제 → 인덱스 비용을 0으로 간주 |
| `USING INDEX index1, index2` | 특정 인덱스들만 대상으로 비용을 계산하고, 최적화기가 선택하게 함      |
| `USING INDEX NONE`           | **인덱스를 사용하지 않고 테이블 전체 순차 스캔** 수행하도록 강제    |
