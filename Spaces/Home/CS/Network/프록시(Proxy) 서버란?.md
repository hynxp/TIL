[[프록시(Proxy) 패턴|프록시 패턴]]을 공부하다가 프록시 패턴이 프록시 서버로도 활용된다는 말을 보았다.  
프록시 서버가 무엇이며, 어떤 역할을 하는지 알아보자.

## 프록시(Proxy)란?
프록시는 **대리인**이라는 뜻이다. 즉, 어떤 객체나 시스템을 직접 사용하지 않고 **중간에서 대신 처리하는 역할**을 하는 개념이다.

프로그래밍에서는 **프록시 패턴(Proxy Pattern)** 이라는 디자인 패턴이 있으며, 이는 어떤 객체에 대한 접근을 제어하기 위해 그 객체의 대리인 역할을 하는 클래스를 두는 방식이다.


## 프록시 서버란?
프록시 서버는 같은 개념을 네트워크 환경에서 적용한 것으로, **클라이언트(사용자)와 실제 서버 사이에서 중개 역할을 하는 서버**이다.

### 동작 방식
사용자가 웹사이트를 방문할 때 프록시 서버가 있으면 다음과 같이 동작한다.
1. 사용자가 웹사이트(`https://example.com`)에 접속
2. 요청이 직접 서버로 가지 않고 **프록시 서버**를 통해 전달됨
3. 프록시 서버가 요청을 받아 실제 서버로 전달
4. 실제 서버가 응답을 보내면, 프록시 서버가 이를 받아 클라이언트에게 반환

이 과정에서 프록시 서버는 데이터를 **캐싱(Cache)** 하여 반복 요청 시 **더 빠르게 제공**할 수도 있고, 특정 국가에서 차단된 사이트에 **우회 접근**하는 역할을 하기도 한다.


## 왜 필요한가?
프록시 서버는 다양한 목적을 위해 사용된다.

| 역할                     | 설명                           |
| ---------------------- | ---------------------------- |
| **보안**                 | 클라이언트의 IP 주소를 숨기고 보안을 강화     |
| **캐싱(Cache)**          | 자주 요청되는 데이터를 저장하여 빠른 응답 제공   |
| **우회(Access Control)** | 특정 사이트나 리소스에 대한 접근을 제한 또는 우회 |
| **트래픽 제어**             | 네트워크 트래픽을 최적화하여 성능 향상        |
|                        |                              |

### 1. 보안
프록시 서버를 사용하는 가장 큰 이유 중 하나는 **보안 강화**이다.

![[Pasted image 20250201083954.png|400]]
프록시 서버를 서버 앞단에 배치하면, **익명 사용자가 직접 서버에 접근하는 것을 방지**할 수 있다.  
이렇게 하면 보안이 강화되며, **클라이언트와 서버 간의 직접적인 연결을 차단**할 수 있다.

예를 들어, 클라이언트가  
_"이 주소로 데이터를 요청해!"_ 라고 하면, 서버의 실제 IP 주소가 노출될 위험이 있다.
이를 통해서 다른 익명의 사용자가 서버로 접근하기 쉬워지게 된다.

하지만 프록시 서버를 통해 _"이 요청을 서버로 보내줘!"_ 라고 하면, 클라이언트는 서버의 위치를 알기 어렵다.  
즉, **서버의 IP를 숨길 수 있으며 외부 공격으로부터 보호할 수 있다.**

### 2. 캐싱
![[Pasted image 20250201093351.png]]
캐시(Cache)는 **속도를 빠르게 하는 데 중요한 역할**을 한다.

프록시 서버는 **이전에 요청된 데이터를 저장(캐싱)** 하여, 같은 요청이 반복될 경우 **실제 서버에 재요청하지 않고 빠르게 응답**할 수 있다.  
이를 통해 **네트워크 부하를 줄이고, 응답 속도를 향상**시킬 수 있다.

예를 들어, 많은 사용자가 동일한 웹사이트의 뉴스 페이지를 조회할 경우 프록시 서버가 캐시된 데이터를 제공하면 서버를 거치지 않고 데이터를 주고 받을 수 있기 때문에 서버의 부하도 줄고, 응답 속도가 더 빨라질 수 있다.

### 3. 우회
프록시 서버는 **차단된 사이트나 서비스에 대한 우회 접속**이 가능하다.

예를 들어, 특정 국가에서는 특정 웹사이트 접속이 차단될 수 있다.  
하지만 프록시 서버를 이용하면 **다른 국가의 IP로 우회 접속이 가능**하다.

이와 반대로, 기업이나 학교에서는 **특정 사이트 접근을 제한**하기 위해 프록시 서버를 사용하기도 한다.  
즉, 프록시 서버는 **접근을 차단할 수도 있고, 차단된 사이트를 우회할 수도 있다.**

### 4. 트래픽 제어
![[Pasted image 20250201083954.png|400]]
프록시 서버가 사용되는 또 다른 중요한 이유는 **트래픽 제어**이다. 

대규모 네트워크 환경에서는 많은 사용자가 동시에 요청을 보내면 서버에 **과부하가 걸릴 수 있다.**
이때 프록시 서버를 사용하면 **트래픽을 분산하고 최적화**할 수 있어 서버의 성능을 향상시킬 수 있다.

대표적인 트래픽 제어 방식으로 **로드 밸런싱**이 있다.
로드 밸런싱을 사용하면 다수의 서버로 요청을 분산하여 특정 서버의 과부하를 방지한다.

예를 들어, 대형 온라인 쇼핑몰에서 **프록시 서버를 활용한 로드 밸런싱**을 적용한다고 가정하자.
1. 사용자가 쇼핑몰 웹사이트에 접속하여 상품을 검색한다.
2. 이 요청이 직접 서버로 가는 것이 아니라 **프록시 서버**를 통해 전달된다.
3. 프록시 서버는 여러 개의 실제 웹 서버 중 **부하가 가장 적은 서버로 요청을 분배**한다.
4. 서버가 응답을 보내면 다시 프록시 서버를 거쳐 사용자에게 전달된다.

이를 통해 특정 서버에 과부하가 몰리는 것을 방지하고, 사용자는 **빠르고 안정적인 서비스**를 받을 수 있다.
또한, 기업이나 학교에서는 **네트워크 사용량을 제한하기 위해** 프록시 서버를 활용할 수 있다.  
예를 들어, 특정 시간대에는 동영상 스트리밍 사이트(유튜브, 넷플릭스 등)의 사용을 제한하여 **업무나 학습에 필요한 트래픽을 확보**할 수 있다.


## 프록시 서버의 종류

### 1. 정방향 프록시(Forward Proxy)
![[Pasted image 20250201093805.png|500]]
Forward Proxy는 보안을 위해 사용된다.
즉, 클라이언트에서 요청을 할 때 직접 요청하는 것이 아닌 프록시 서버를 거치는 방식이다.

- 사용자의 요청을 대신 수행하는 일반적인 프록시 서버
- 보안 강화, 익명성 유지, 접근 차단 우회 목적
- 예) 회사 네트워크에서 직원들이 인터넷을 사용할 때 프록시 서버를 거쳐 접속
  
### 2. 역방향 프록시(Reverse Proxy)
![[Pasted image 20250201093816.png|500]]
Reverse Proxy는 Forward Proxy와 반대로 서버에서 클라이언트에게 응답을 보낼 때 직접 데이터를 전달하지 않고 프록시 서버를 거치는 방식이다.

- 서버 앞단에서 클라이언트 요청을 대신 받아주는 역할
- 로드 밸런싱(Load Balancing), 보안 강화, 캐싱 기능 제공
- 예) 대형 웹사이트에서 여러 서버로 트래픽을 분산할 때 사용




참고
[Forward Proxy vs Reverse Proxy vs Load Balancer](https://velog.io/@oyeon/Forward-Proxy-vs-Reverse-Proxy-vs-Load-Balancer)
[프록시 서버란? (feat. 필요한 이유) (What is a Proxy server?)](https://fomaios.tistory.com/entry/Network-%ED%94%84%EB%A1%9D%EC%8B%9C-%EC%84%9C%EB%B2%84%EB%9E%80-feat-%ED%95%84%EC%9A%94%ED%95%9C-%EC%9D%B4%EC%9C%A0-What-is-a-Proxy-server)
[6.프록시 패턴과 프록시 서버](https://hyungju-lee.github.io/hyungju-lee2022.github.io/computer_science/computer_science6/)
