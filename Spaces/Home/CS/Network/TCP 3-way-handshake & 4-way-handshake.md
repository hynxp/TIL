TCP는 네트워크 계층 중 **전송 계층에서 사용하는 프로토콜** 중 하나로, **신뢰성을 보장하는 연결형 서비스**이다.

TCP의 **3-way-handshake**란 TCP 통신을 시작하기 전에 논리적인 경로 **연결을 수립 (Connection Establish)** 하는 과정이며, **4-way-handshake**는 논리적인 경로 **연결을 해제 (Connection Termination)** 하는 과정이다. 이러한 방식을 Connect Oriented 방식이라 부르기도 한다.

### TCP 3-way-handshake 
두 장치(클라이언트와 서버)가 **데이터 전송을 시작하기 전에 세 번의 메시지를 주고받아 연결을 설정**하는 절차
서버와 클라이언트가 서로 믿을 수 있다.


![img.png|528](https://blog.kakaocdn.net/dn/y8Vdq/btsCnFYY5Ji/re9BOZt7J6dnSwDkJXc8Rk/img.png)

1. 클라이언트가 서버에게 접속 요청 `SYN`을 한다.
2. 서버는 접속 요청 메시지와 요청 수락에 대한 메시지 `ACK`도 함께 보낸다.
3. 클라이언트는 `ACK`와 함께 데이터를 전송한다.

### TCP 4-way-handshake : 
두 장치가 **데이터 전송이 끝난 후 연결을 해제**하기 위해 네 번의 메시지를 주고받는 절차

![[IMG-20241107105108124.png]]

1. 클라이언트가 더 이상 보낼 데이터가 없으니 연결을 종료하겠다고 `FIN`을 보낸다
2. 서버는 확인했다는 응답으로 `ACK` 를 보낸다. 아직은 데이터를 전송할 수 있는 TIME_WAIT 상태이다.
3. 서버도 데이터 전송을 완료한 후 연결을 종료하기 위해 FIN을 보낸다.
4. 클라이언트는 연결 종료를 확인하는 `ACK`을 보낸다
5. 양쪽 연결이 해제된다.