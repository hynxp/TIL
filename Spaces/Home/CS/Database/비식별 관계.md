기능 추가때문에 erdCloud로 DB 설계하다가 연관관계 설정하는데 Identifying(식별), Non-Identifying(비식별) 중 고르라 한다.
항상 왼쪽을 선택했는데 당근마켓이나 배민 클론 프로젝트의 erd를 보니 비식별이 더 많은 게 아닌가..! 충격받았다.

찾아보니.... 
테이블 사이 관계에서 외래 키가 기본키에 포함되는지 여부에 따라 식별 관계와 비식별 관계로 구분된다고 한다.

**식별 관계**는 부모 테이블의 기본키 또는 유니크 키를 자식 테이블이 자신의 기본키로 사용한다고 한다.
즉 자신의 기본키로 사용한다는 것은 데이터가 비어있으면 안된다는 뜻이다.
대학원생 테이블에 데이터를 insert할 때 교수의 id도 무조건 같이 넣어야 한다는 뜻이다.
![![Spaces/Home/Database/#^Table1]]![![Spaces/Home/Database/#^Table2]]
**비식별 관계**는 부모 테이블의 기본키 또는 유니크 키를 자신의 기본키로 사용하지 않고, 외래 키로 사용한다고 한다.
단순 외래 키로만 사용하므로 부모 테이블의 레코드가 존재하지 않아도 상관 없다.
![![Spaces/Home/Database/#^Table1]]
![![Spaces/Home/Database/#^Table3]]
근데 이해가 안 갔다.
단적인 예로 당근마켓 erd를 보는데 채팅방과 채팅 메시지의 관계를 이렇게 해놨다.
![[IMG-20241107105119841.webp|400]]
아니 채팅 메시지는 무조건 채팅방이 있어야 하는거 아닌가??
비식별 관계는 부모pk의 null된다


**식별 관계의 예시**
- 구매자가 존재하지 않을 경우 구매 내역도 존재할 수 없다
- 학생이 존재하지 않을 경우 제출 과제 또한 존재할 수 없다

**비식별 관계의 예시**
- 세입자가 존재하지 않아도 건물이나 방은 존재할 수 있다
- 환자가 굳이 없어도 병원 자체는 존재할 수 있다


식별관계 / 비식별관계는 ERD를 그릴 때에만 유효하고, 실제 데이터베이스 상에서는 따로 특별히 구현하지는 않는 추상적인 개념이라고 한다... (?)



참고
[Identifying / Non-Identifying Relationship](https://blog.chichoon.com/737)
